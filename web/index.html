<base href="$FLUTTER_BASE_HREF">
<div id="output"></div>
<script src="flutter.js" defer></script>
<script id="app" src="main.dart.js" defer></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500">
<style>
  @font-face {
    font-family: "MaterialIcons";
    src: url('https://rodydavis.github.io/figma_flutter_plugin/assets/fonts/MaterialIcons-Regular.otf') format("opentype");
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 0;
    font-family: Roboto, sans-serif;
  }

  #output {
    width: 100vw;
    height: 100vh;
  }
</style>
<script>
  window.addEventListener('load', function (ev) {
    _flutter.loader._onEntrypointLoaded = function (engineInitializer) {
      engineInitializer.initializeEngine({
        hostElement: document.getElementById('output'),
        renderer: 'html',
        assetBase: 'https://rodydavis.github.io/figma_flutter_plugin/',
        canvasKitBaseUrl: 'https://rodydavis.github.io/figma_flutter_plugin/',
      }).then(function (appRunner) {
        appRunner.runApp();
      });
    };
    _flutter.loader._scriptLoaded = true;
  });
  window.onmessage = (event) => {
    const ev = new CustomEvent('figma', {
      detail: event.data.pluginMessage,
    });
    const el = document.getElementById('output');
    el.dispatchEvent(ev);
  };
</script>