<base href="$FLUTTER_BASE_HREF">
<div id="output"></div>
<script src="flutter.js" defer></script>
<script id="app" src="main.dart.js" defer></script>
<style>
  html {
    scroll-behavior: smooth;
  }

  body {
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 0;
  }

  #output {
    width: 100vw;
    height: 100vh;
  }
</style>
<script>
  const elem = document.getElementById('output');
  const js = document.getElementById('app');

  // Object url for js
  const blob = new Blob([js.innerHTML], { type: 'text/javascript' });
  const url = URL.createObjectURL(blob);

  window.addEventListener('load', function (ev) {
    _flutter.loader.loadEntrypoint({
      entrypointUrl: url,
      onEntrypointLoaded: function (engineInitializer) {
        engineInitializer.initializeEngine({
          hostElement: elem,
          renderer: 'html',
          assetBase: 'https://rodydavis.github.io/figma_flutter_plugin/',
          canvasKitBaseUrl: 'https://rodydavis.github.io/figma_flutter_plugin/',
        }).then(function (appRunner) {
          appRunner.runApp();
        });
      }
    });
  });
</script>